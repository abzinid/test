
(function($){$.fn.theiaStickySidebar=function(options){var defaults={'containerSelector':'','additionalMarginTop':0,'additionalMarginBottom':0,'updateSidebarHeight':true,'minWidth':0,'disableOnResponsiveLayouts':true,'sidebarBehavior':'modern','defaultPosition':'relative','namespace':'TSS'};options=$.extend(defaults,options);options.additionalMarginTop=parseInt(options.additionalMarginTop)||0;options.additionalMarginBottom=parseInt(options.additionalMarginBottom)||0;tryInitOrHookIntoEvents(options,this);function tryInitOrHookIntoEvents(options,$that){var success=tryInit(options,$that);if(!success){console.log('TSS: Body width smaller than options.minWidth. Init is delayed.');$(document).on('scroll.'+options.namespace,function(options,$that){return function(evt){var success=tryInit(options,$that);if(success){$(this).unbind(evt)}}}(options,$that));$(window).on('resize.'+options.namespace,function(options,$that){return function(evt){var success=tryInit(options,$that);if(success){$(this).unbind(evt)}}}(options,$that))}}function tryInit(options,$that){if(options.initialized===true){return true}if($('body').width()<options.minWidth){return false}init(options,$that);return true}function init(options,$that){options.initialized=true;var existingStylesheet=$('#theia-sticky-sidebar-stylesheet-'+options.namespace);if(existingStylesheet.length===0){$('head').append($('<style id="theia-sticky-sidebar-stylesheet-'+options.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'))}$that.each(function(){var o={};o.sidebar=$(this);o.options=options||{};o.container=$(o.options.containerSelector);if(o.container.length==0){o.container=o.sidebar.parent()}o.sidebar.parents().css('-webkit-transform','none');o.sidebar.css({'position':o.options.defaultPosition,'overflow':'visible','-webkit-box-sizing':'border-box','-moz-box-sizing':'border-box','box-sizing':'border-box'});o.stickySidebar=o.sidebar.find('.theiaStickySidebar');if(o.stickySidebar.length==0){var javaScriptMIMETypes=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;o.sidebar.find('script').filter(function(index,script){return script.type.length===0||script.type.match(javaScriptMIMETypes)}).remove();o.stickySidebar=$('<div>').addClass('theiaStickySidebar').append(o.sidebar.children());o.sidebar.append(o.stickySidebar)}o.marginBottom=parseInt(o.sidebar.css('margin-bottom'));o.paddingTop=parseInt(o.sidebar.css('padding-top'));o.paddingBottom=parseInt(o.sidebar.css('padding-bottom'));var collapsedTopHeight=o.stickySidebar.offset().top;var collapsedBottomHeight=o.stickySidebar.outerHeight();o.stickySidebar.css('padding-top',1);o.stickySidebar.css('padding-bottom',1);collapsedTopHeight-=o.stickySidebar.offset().top;collapsedBottomHeight=o.stickySidebar.outerHeight()-collapsedBottomHeight-collapsedTopHeight;if(collapsedTopHeight==0){o.stickySidebar.css('padding-top',0);o.stickySidebarPaddingTop=0}else{o.stickySidebarPaddingTop=1}if(collapsedBottomHeight==0){o.stickySidebar.css('padding-bottom',0);o.stickySidebarPaddingBottom=0}else{o.stickySidebarPaddingBottom=1}o.previousScrollTop=null;o.fixedScrollTop=0;resetSidebar();o.onScroll=function(o){if(!o.stickySidebar.is(":visible")){return}if($('body').width()<o.options.minWidth){resetSidebar();return}if(o.options.disableOnResponsiveLayouts){var sidebarWidth=o.sidebar.outerWidth(o.sidebar.css('float')=='none');if(sidebarWidth+50>o.container.width()){resetSidebar();return}}var scrollTop=$(document).scrollTop();var position='static';if(scrollTop>=o.sidebar.offset().top+(o.paddingTop-o.options.additionalMarginTop)){var offsetTop=o.paddingTop+options.additionalMarginTop;var offsetBottom=o.paddingBottom+o.marginBottom+options.additionalMarginBottom;var containerTop=o.sidebar.offset().top;var containerBottom=o.sidebar.offset().top+getClearedHeight(o.container);var windowOffsetTop=0+options.additionalMarginTop;var windowOffsetBottom;var sidebarSmallerThanWindow=(o.stickySidebar.outerHeight()+offsetTop+offsetBottom)<$(window).height();if(sidebarSmallerThanWindow){windowOffsetBottom=windowOffsetTop+o.stickySidebar.outerHeight()}else{windowOffsetBottom=$(window).height()-o.marginBottom-o.paddingBottom-options.additionalMarginBottom}var staticLimitTop=containerTop-scrollTop+o.paddingTop;var staticLimitBottom=containerBottom-scrollTop-o.paddingBottom-o.marginBottom;var top=o.stickySidebar.offset().top-scrollTop;var scrollTopDiff=o.previousScrollTop-scrollTop;if(o.stickySidebar.css('position')=='fixed'){if(o.options.sidebarBehavior=='modern'){top+=scrollTopDiff}}if(o.options.sidebarBehavior=='stick-to-top'){top=options.additionalMarginTop}if(o.options.sidebarBehavior=='stick-to-bottom'){top=windowOffsetBottom-o.stickySidebar.outerHeight()}if(scrollTopDiff>0){top=Math.min(top,windowOffsetTop)}else{top=Math.max(top,windowOffsetBottom-o.stickySidebar.outerHeight())}top=Math.max(top,staticLimitTop);top=Math.min(top,staticLimitBottom-o.stickySidebar.outerHeight());var sidebarSameHeightAsContainer=o.container.height()==o.stickySidebar.outerHeight();if(!sidebarSameHeightAsContainer&&top==windowOffsetTop){position='fixed'}else if(!sidebarSameHeightAsContainer&&top==windowOffsetBottom-o.stickySidebar.outerHeight()){position='fixed'}else if(scrollTop+top-o.sidebar.offset().top-o.paddingTop<=options.additionalMarginTop){position='static'}else{position='absolute'}}if(position=='fixed'){var scrollLeft=$(document).scrollLeft();o.stickySidebar.css({'position':'fixed','width':getWidthForObject(o.stickySidebar)+'px','transform':'translateY('+top+'px)','left':(o.sidebar.offset().left+parseInt(o.sidebar.css('padding-left'))-scrollLeft)+'px','top':'0px'})}else if(position=='absolute'){var css={};if(o.stickySidebar.css('position')!='absolute'){css.position='absolute';css.transform='translateY('+(scrollTop+top-o.sidebar.offset().top-o.stickySidebarPaddingTop-o.stickySidebarPaddingBottom)+'px)';css.top='0px'}css.width=getWidthForObject(o.stickySidebar)+'px';css.left='';o.stickySidebar.css(css)}else if(position=='static'){resetSidebar()}if(position!='static'){if(o.options.updateSidebarHeight==true){o.sidebar.css({'min-height':o.stickySidebar.outerHeight()+o.stickySidebar.offset().top-o.sidebar.offset().top+o.paddingBottom})}}o.previousScrollTop=scrollTop};o.onScroll(o);$(document).on('scroll.'+o.options.namespace,function(o){return function(){o.onScroll(o)}}(o));$(window).on('resize.'+o.options.namespace,function(o){return function(){o.stickySidebar.css({'position':'static'});o.onScroll(o)}}(o));if(typeof ResizeSensor!=='undefined'){new ResizeSensor(o.stickySidebar[0],function(o){return function(){o.onScroll(o)}}(o))}function resetSidebar(){o.fixedScrollTop=0;o.sidebar.css({'min-height':'1px'});o.stickySidebar.css({'position':'static','width':'','transform':'none'})}function getClearedHeight(e){var height=e.height();e.children().each(function(){height=Math.max(height,$(this).height())});return height}})}function getWidthForObject(object){var width;try{width=object[0].getBoundingClientRect().width}catch(err){}if(typeof width==="undefined"){width=object.width()}return width}return this}})(jQuery);
// functions
$(function(){function t(t,e){for(var a=0;a<t[e].link.length;a++)if("alternate"==t[e].link[a].rel){var s=t[e].link[a].href;break}return s}function e(t,e,a){return'<a href="'+a+'">'+t[e].title.$t+"</a>"}function a(t,e){return'<span class="post-author">'+t[e].author[0].name.$t+" </span>"}function s(t,e){var a=t[e].published.$t,s=a.substring(0,4),i=a.substring(5,7),n=a.substring(8,10);return'<span class="post-date">'+(monthFormat[parseInt(i,10)-1]+" "+n+", "+s)+"</span>"}function i(t,e){var a=t[e].title.$t;t[e].content.$t;if("media$thumbnail"in t[e]){var s=t[e].media$thumbnail.url,i=s.replace("/s72-c","/w640"),n=s.replace("/s72-c","/w280"),l=s.replace("/s72-c","/w100");s.match("img.youtube.com")&&(i=s.replace("/default.","/hqdefault."),n=s.replace("/default.","/mqdefault."),l=s)}else i=noThumbnail,n=noThumbnail.replace("/s680","/w280"),l=noThumbnail.replace("/s680","/w100");return['<img class="post-thumb" alt="'+a+'" src="'+i+'"/>','<img class="post-thumb" alt="'+a+'" src="'+n+'"/>','<img class="post-thumb" alt="'+a+'" src="'+l+'"/>']}function n(t,e){var a=t[e].content.$t;return'<p class="post-snippet">'+$("<div>").html(a).text().trim().substr(0,86)+"â€¦</p>"}function l(l,r,o,c){if(r.match("mega-menu")||r.match("feat-big")||r.match("post-list")||r.match("related")){var m="";if("recent"==c)m="/feeds/posts/default?alt=json-in-script&max-results="+o;else if("random"==c)m="/feeds/posts/default?max-results="+o+"&start-index="+(Math.floor(Math.random()*o)+1)+"&alt=json-in-script";else m="/feeds/posts/default/-/"+c+"?alt=json-in-script&max-results="+o;$.ajax({url:m,type:"get",dataType:"jsonp",success:function(o){if(r.match("mega-menu"))var m='<ul class="mega-menu-inner">';else if(r.match("feat-big"))m='<ul class="feat-big">';else if(r.match("post-list"))m='<ul class="custom-widget">';else if(r.match("related"))m='<ul class="related-posts">';var p=o.feed.entry;if(null!=p){for(var d=0,h=p;d<h.length;d++){var u=t(h,d),f=e(h,d,u),g=i(h,d),b=a(h,d),v=s(h,d),$=n(h,d),w="";r.match("mega-menu")?w+='<div class="mega-item item-'+d+'"><div class="mega-content"><div class="post-image-wrap"><a class="post-image-link" href="'+u+'">'+g[1]+'</a></div><h2 class="post-title">'+f+'</h2><div class="post-meta">'+v+"</div></div></div>":r.match("feat-big")?w+=0==d?'<li class="feat-item item-big item-'+d+'"><div class="feat-inner"><a class="post-image-link" href="'+u+'">'+g[0]+'</a><div class="post-info"><h2 class="post-title">'+f+'</h2><div class="post-meta">'+b+'<span class="separator">-</span>'+v+"</div>"+$+"</div></div></li>":'<li class="feat-item item-small item-'+d+'"><a class="post-image-link" href="'+u+'">'+g[1]+'</a><div class="post-info"><h2 class="post-title">'+f+'</h2><div class="post-meta">'+v+"</div></div></li>":r.match("post-list")?w+='<li class="item-'+d+'"><a class="post-image-link" href="'+u+'">'+g[2]+'</a><h2 class="post-title">'+f+'</h2><div class="post-meta">'+v+"</div></div></li>":r.match("related")&&(w+='<li class="related-item item-'+d+'"><div class="post-image-wrap"><a class="post-image-link" href="'+u+'">'+g[1]+'</a></div><h2 class="post-title">'+f+'</h2><div class="post-meta">'+v+"</div></li>"),m+=w}m+="</ul>"}else m='<ul class="no-posts">Error: No Posts Found <i class="fa fa-frown-o"/></ul>';r.match("mega-menu")?(l.addClass("has-sub mega-menu").append(m),l.find("a:first").attr("href",function(t,e){return e="recent"==c||"random"==c?e.replace(e,"/search/?&max-results="+postPerPage):e.replace(e,"/search/label/"+c+"?&max-results="+postPerPage)})):r.match("feat-big")?(l.parent().find(".widget-title").append('<a class="view-all" href="/search/label/'+c+"?&max-results="+postPerPage+'">'+messages.viewAll+"</a>"),l.html(m).parent().addClass("show-widget")):l.html(m)}})}}$("#main-menu").each(function(){for(var t=$(this).find(".LinkList ul > li").children("a"),e=t.length,a=0;a<e;a++){var s=t.eq(a),i=s.text();if("_"!==i.charAt(0))if("_"===t.eq(a+1).text().charAt(0)){var n=s.parent();n.append('<ul class="sub-menu m-sub"/>')}"_"===i.charAt(0)&&(s.text(i.replace("_","")),s.parent().appendTo(n.children(".sub-menu")))}for(a=0;a<e;a++){var l=t.eq(a),r=l.text();if("_"!==r.charAt(0))if("_"===t.eq(a+1).text().charAt(0)){var o=l.parent();o.append('<ul class="sub-menu2 m-sub"/>')}"_"===r.charAt(0)&&(l.text(r.replace("_","")),l.parent().appendTo(o.children(".sub-menu2")))}$("#main-menu ul li ul").parent("li").addClass("has-sub"),$("#main-menu-nav > li > a").each(function(){var t=$(this);"homepage"==t.attr("href").trim().toLowerCase()&&t.attr("href","/").parent("li").addClass("li-home")}),$("#main-menu .widget").addClass("show-menu")}),$("#main-menu-nav").clone().appendTo(".mobile-menu"),$(".mobile-menu .has-sub").append('<div class="submenu-toggle"/>'),$(".mobile-menu ul > li a").each(function(){var t=$(this),e=t.attr("href").trim(),a=e.toLowerCase(),s=e.split("/")[0];a.match("mega-menu")&&t.attr("href","/search/label/"+s+"?&max-results="+postPerPage)}),$(".slide-menu-toggle").on("click",function(){$("body").toggleClass("nav-active")}),$(".mobile-menu ul li .submenu-toggle").on("click",function(t){$(this).parent().hasClass("has-sub")&&(t.preventDefault(),$(this).parent().hasClass("show")?$(this).parent().removeClass("show").find("> .m-sub").slideToggle(170):$(this).parent().addClass("show").children(".m-sub").slideToggle(170))}),$(".show-search, .show-mobile-search").on("click",function(){$("#nav-search, .mobile-search-form").fadeIn(250).find("input").focus()}),$(".hide-search, .hide-mobile-search").on("click",function(){$("#nav-search, .mobile-search-form").fadeOut(250).find("input").blur()}),$(".Label a, a.b-label").attr("href",function(t,e){return e.replace(e,e+"?&max-results="+postPerPage)}),$(".avatar-image-container img").attr("src",function(t,e){return e=(e=e.replace("/s35-c/","/s45-c/")).replace("//img1.blogblog.com/img/blank.gif","//4.bp.blogspot.com/-uCjYgVFIh70/VuOLn-mL7PI/AAAAAAAADUs/Kcu9wJbv790hIo83rI_s7lLW3zkLY01EA/s55-r/avatar.png")}),$(".index-post .post-image-link img").attr("src",function(t,e){return e=e.replace("https://4.bp.blogspot.com/-O3EpVMWcoKw/WxY6-6I4--I/AAAAAAAAB2s/KzC0FqUQtkMdw7VzT6oOR_8vbZO6EJc-ACK4BGAYYCw/w680/nth.png",noThumbnail)}),$(".author-description a").each(function(){$(this).attr("target","_blank")}),$(".post-nav").each(function(){var t=$("a.prev-post-link").attr("href"),e=$("a.next-post-link").attr("href");$.ajax({url:t,type:"get",success:function(t){var e=$(t).find(".blog-post h1.post-title").text();$(".post-prev a .post-nav-inner p").text(e)}}),$.ajax({url:e,type:"get",success:function(t){var e=$(t).find(".blog-post h1.post-title").text();$(".post-next a .post-nav-inner p").text(e)}})}),$(".post-body strike").each(function(){var t=$(this),e=t.text();e.match("left-sidebar")&&t.replaceWith("<style>.item #main-wrapper{float:right;padding:0 0 0 25px}.item #sidebar-wrapper{float:left}</style>"),e.match("right-sidebar")&&t.replaceWith("<style>.item #main-wrapper{float:left;padding:0 25px 0 0}.item #sidebar-wrapper{float:right}</style>"),e.match("full-width")&&t.replaceWith("<style>.item #main-wrapper{width:100%;padding:0}.item #sidebar-wrapper{display:none}</style>")}),$("#main-wrapper, #sidebar-wrapper").each(function(){1==fixedSidebar&&$(this).theiaStickySidebar({additionalMarginTop:25,additionalMarginBottom:25})}),$(".back-top").each(function(){var t=$(this);$(window).on("scroll",function(){$(this).scrollTop()>=100?t.fadeIn(250):t.fadeOut(250)}),t.click(function(){$("html, body").animate({scrollTop:0},500)})}),$("#main-menu #main-menu-nav li").each(function(){var t=$(this),e=t.find("a").attr("href").trim();l(t,e.toLowerCase(),5,e.split("/")[0])}),$(".featured-posts .widget-content").each(function(){var t=$(this),e=t.text().trim(),a=e.toLowerCase(),s=e.split("/");if(a.match("feat-big"))var i=5,n=s[0];else i=s[0],n=s[1];l(t,a,i,n)}),$(".common-widget .widget-content").each(function(){var t=$(this),e=t.text().trim(),a=e.toLowerCase(),s=e.split("/");l(t,a,s[0],s[1])}),$(".related-ready").each(function(){var t=$(this),e=t.find(".related-tag").data("label");l(t,"related",3,e)}),$(".blog-post-comments").each(function(){var t,e=commentsSystem,a=(disqus_blogger_current_url,'<div class="fb-comments" data-width="100%" data-href="'+$(location).attr("href")+'" data-numposts="5"></div>'),s="comments-system-"+e;"blogger"==e?$(this).addClass(s).show():"disqus"==e?((t=document.createElement("script")).type="text/javascript",t.async=!0,t.src="//"+disqusShortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t),$("#comments, #gpluscomments").remove(),$(this).append('<div id="disqus_thread"/>').addClass(s).show()):"facebook"==e?($("#comments, #gpluscomments").remove(),$(this).append(a).addClass(s).show()):"hide"==e?$(this).hide():$(this).addClass("comments-system-default").show()})});
